@using UI_Blazor.Client.Models

<div class="client-table-container">
    <div class="table-header">
        <span class="header-item id_cli">ID</span>
        <span class="header-item nombre">Nombre / RazÃ³n Social</span>
        <span class="header-item tipo-doc">Tipo Documento</span>
        <span class="header-item identificacion">IdentificaciÃ³n</span>
        <span class="header-item contacto">Contacto (Email)</span>
        <span class="header-item acciones">Acciones</span>
    </div>

    <div class="table-body">
        @if (Clientes == null || !Clientes.Any())
        {
            <div class="no-data-message">
                <p>No se encontraron clientes para los filtros aplicados. ðŸ”Ž</p>
            </div>
        }
        else
        {
            @foreach (var cliente in Clientes)
            {
                <div class="table-row">
                    <span class="row-item id_cli">@cliente.Id_Cli</span>
                    <span class="row-item nombre">
                        <strong>@cliente.NombreCompleto</strong>
                    </span>
                    <span class="row-item tipo-doc">
                        <span class="type-tag @cliente.Tipo_Documento.ToString().ToLower()">@cliente.Tipo_Documento</span>
                    </span>
                    <span class="row-item identificacion">@cliente.Num_Documento</span>
                    <span class="row-item contacto">@cliente.Correo</span>
                    <span class="row-item acciones">
                        <button class="action-icon-button view-btn" @onclick="() => OnViewClient.InvokeAsync(cliente.Id_Cli)">
                            <span class="oi oi-eye" aria-hidden="true"></span>
                        </button>
                        <button class="action-icon-button edit-btn" @onclick="() => OnEditClient.InvokeAsync(cliente.Id_Cli)">
                            <span class="oi oi-pencil" aria-hidden="true"></span>
                        </button>
                    </span>
                </div>
            }
        }
    </div>
</div>

@code {
    [Parameter]
    public List<Cliente> Clientes { get; set; } = new();

    [Parameter]
    public string SearchTerm { get; set; } = string.Empty; // Se mantiene por si se quiere hacer pre-filtrado
    
    [Parameter]
    public EventCallback<int> OnViewClient { get; set; }

    [Parameter]
    public EventCallback<int> OnEditClient { get; set; }

    [Parameter]
    public EventCallback<int> OnDeleteClient { get; set; } // Aunque no se usa en markup, se mantiene para consistencia
}